# Post Types
A shorthand for registering post types via a JSON file instead of a 
whole bunch of PHP to make life just a little bit easier. 

## Usage

You need to initialise the class as early as possible. 
```php
add_ation(
    'plugins_loaded', 
    function() { 
        ( new Boxuk\BoxWpEditorTools\PostTypes() )->init();
    }
);
```

You will also need to define a JSON file which configures your post-types. This should be caleld `post-types.json` and live in the root of your theme (`wp-content/themes/{theme_name}/post-types.json`).
```json
{
	"$schema": "https://github.com/boxuk/box-wp-editor-tools/post-type.schema.json",
	"post_types": {
		"project": {
			"has_archive": true,
			"labels": {
				"name": "Projects",
				"singular_name": "Project"
			},
			"menu_icon": "dashicons-lightbulb",
			"taxonomies": [ "category", "post_tag" ],
			"supports": [ "title", "editor", "thumbnail", "excerpt" ]
		},
        "product": { 
            "menu_icon": "dashicons-cart",
            "labels": {
				"name": "Products",
				"singular_name": "Product"
			},
        }
    }
}
```

The schema file will help your IDE populate any fields you think you need. After parsing, the file is passed to `register_post_type()` so the [WordPress documentation](https://developer.wordpress.org/reference/functions/register_post_type/) should be useful!



## Specifying the path to the file. 
You can provide the path in the constructor for the class. 
```php
add_ation(
    'plugins_loaded', 
    function() { 
        $post_types_file_path = plugin_dir_path( __FILE__ ) . '/post-types.json';
        ( new Boxuk\BoxWpEditorTools\PostTypes( $post_types_file_path ) )->init();
    }
);
```

## Registering templates for new posts
The block-editor allows you to specify a template of which blocks should be automatically inserted for all new posts created. This shouldn't be confused with the also-named 'Templates', which are the the templates in which the content of the post is within. 

The new-post-templates are a collection of blocks that are pre-inserted when the editor loads and can speed up content entry. You can define these using the array syntax in your JSON file, but this becomes very verbose and difficult to manage. 

Alternatively, you can add a file to your theme (`wp-content/themes/{theme_name}/post-type-templates/{post_type_slug}.html`) which includes the gutenberg markup in HTML format. A quick way to build these is to load the editor in your browser, build the template out as you would normally. Enable 'Code Editor View' in the block editor, and you can copy the HTML that has been generated by the blocks. This can be pasted in your file and saved. You may wish to replace any hardcoded image URLs with placeholder image URLs. 
